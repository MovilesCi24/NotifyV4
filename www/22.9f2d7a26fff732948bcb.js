(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{qzrR:function(n,l,e){"use strict";e.r(l);var o=e("CcnG"),t=e("dVwY"),u=e("fhD/"),i=e("ZZ/e"),r=e("ixqX"),s=e("YdJ5"),a=function(){function n(n,l,e,o,t,u){this.global=n,this.Post=l,this.navCtrl=e,this.Loading=o,this.Alert=t,this.Aroute=u,this.SelectAll=!1,this.Dispositivo=new Array,this.Componentes=new Array,this.Eventos=new Array,this.TDisp=new Array,this.Tcomp=new Array,this.Vevent=new Array,this.Enviado=new Array;var i=this.Aroute.snapshot.paramMap.get("Id");this.Data=i.split("."),console.log(this.Data),this.Id_Perfil=this.Data[0],console.log(this.Id_Perfil)}return n.prototype.ngOnInit=function(){var n=this;this.Post.Event({Option:"GetDevices"},function(l,e){console.log(e),null==l?(n.Devices=JSON.parse(e.data),n.OrganizarData(n.Devices)):n.Alert.AlertOnebutton("Error",JSON.stringify(l.message))})},n.prototype.OrganizarData=function(n){for(var l=new Map,e=0,o=n;e<o.length;e++)l.has((p=o[e]).Id_DeviceType)||(l.set(p.Id_DeviceType,!0),this.Dispositivo.push({Id_DeviceType:p.Id_DeviceType,NameDevices:p.NameDevices}),this.TDisp.push(!0));this.Componentes=new Array(this.Dispositivo.length),this.Tcomp=new Array(this.Dispositivo.length);for(var t=0;t<this.Dispositivo.length;t++){this.Componentes[t]=new Array,this.Tcomp[t]=new Array;for(var u=new Map,i=0,r=n;i<r.length;i++)u.has((p=r[i]).Id_Component)||p.Id_DeviceType!=this.Dispositivo[t].Id_DeviceType||(u.set(p.Id_Component,!0),this.Componentes[t].push({Id_Component:p.Id_Component,NameComponent:p.NameComponent}),this.Tcomp[t].push(!1))}for(this.Eventos=new Array(this.Dispositivo.length),this.Vevent=new Array(this.Dispositivo.length),t=0;t<this.Dispositivo.length;t++){this.Eventos[t]=new Array(this.Componentes[t].length),this.Vevent[t]=new Array(this.Componentes[t].length);for(var s=0;s<this.Componentes[t].length;s++){this.Eventos[t][s]=new Array,this.Vevent[t][s]=new Array;for(var a=new Map,c=0,b=n;c<b.length;c++){var p;a.has((p=b[c]).Id_EventComponent)||p.Id_DeviceType!=this.Dispositivo[t].Id_DeviceType||p.Id_Component!=this.Componentes[t][s].Id_Component||(a.set(p.Id_EventComponent,!0),this.Eventos[t][s].push({Id_DeviceType:p.Id_DeviceType,NameDevices:p.NameDevices,Id_Component:p.Id_Component,NameComponent:p.NameComponent,Id_EventComponent:p.Id_EventComponent,NameEvent:p.NameEvent,Id_DeviceComponent:p.Id_DeviceComponent}),this.Vevent[t][s].push(!1))}}}console.log(this.Eventos)},n.prototype.ToggleD=function(n){0==this.TDisp[n]?this.TDisp[n]=!0:1==this.TDisp[n]&&(this.TDisp[n]=!1)},n.prototype.ToggleC=function(n,l){0==this.Tcomp[n][l]?this.Tcomp[n][l]=!0:1==this.Tcomp[n][l]&&(this.Tcomp[n][l]=!1)},n.prototype.Asociar=function(){var n=this;this.Loading.LoadingNormal("Asociando Eventos..."),console.log(this.Vevent);for(var l=0,e=0;e<this.Dispositivo.length;e++)for(var o=0;o<this.Componentes[e].length;o++)for(var t=0;t<this.Eventos[e][o].length;t++)1==this.Vevent[e][o][t]&&(l+=1,this.Enviado.push(!1));if(0==l)this.Loading.HideLoading(),this.Loading.LoadingNormal("Seleccione al menos un evento",2);else{var u=0;for(e=0;e<this.Dispositivo.length;e++)for(o=0;o<this.Componentes[e].length;o++)for(t=0;t<this.Eventos[e][o].length;t++)1==this.Vevent[e][o][t]&&(this.Post.Event({Option:"AsociateEvent",Id_ProfileEvent:this.Id_Perfil,Id_DeviceComponent:this.Eventos[e][o][t].Id_DeviceComponent,Id_DeviceType:this.Eventos[e][o][t].Id_DeviceType,Id_EventComponent:this.Eventos[e][o][t].Id_EventComponent},function(l,e){console.log(e),null==l?n.Enviado[u]=!0:n.Alert.AlertOnebutton("Error",JSON.stringify(l.message))}),u+=1);setTimeout(function(){n.Loading.HideLoading(),n.navCtrl.navigateRoot("/perfiles")},2e3)}},n.prototype.Seleccionar=function(){for(var n=0;n<this.Dispositivo.length;n++)for(var l=0;l<this.Componentes[n].length;l++)for(var e=0;e<this.Eventos[n][l].length;e++)this.Vevent[n][l][e]=this.SelectAll},n}(),c=function(){return function(){}}(),b=e("pMnS"),p=e("oBZk"),h=e("gIcY"),d=e("Ip0R"),g=e("ZYCi"),v=o.mb({encapsulation:0,styles:[[".item[_ngcontent-%COMP%]   .sc-ion-label-md-h[_ngcontent-%COMP%], .item.sc-ion-label-md-h[_ngcontent-%COMP%]{width:100%}"]],data:{}});function m(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,1,"ion-icon",[["name","arrow-dropdown"],["slot","end"]],null,null,null,p.ab,p.o)),o.nb(1,49152,null,0,i.B,[o.h,o.k],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"arrow-dropdown")},null)}function f(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,1,"ion-icon",[["name","remove"],["slot","end"]],null,null,null,p.ab,p.o)),o.nb(1,49152,null,0,i.B,[o.h,o.k],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"remove")},null)}function C(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,1,"ion-icon",[["name","arrow-dropdown"],["slot","end"]],null,null,null,p.ab,p.o)),o.nb(1,49152,null,0,i.B,[o.h,o.k],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"arrow-dropdown")},null)}function y(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,1,"ion-icon",[["name","remove"],["slot","end"]],null,null,null,p.ab,p.o)),o.nb(1,49152,null,0,i.B,[o.h,o.k],{name:[0,"name"]},null)],function(n,l){n(l,1,0,"remove")},null)}function w(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,9,"ion-item",[],null,null,null,p.ib,p.r)),o.nb(1,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.Eb(2,0,[" "," "])),(n()(),o.ob(3,0,null,0,6,"ion-toggle",[["color","danger"],["slot","end"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,e){var t=!0,u=n.component;return"ionBlur"===l&&(t=!1!==o.yb(n,4)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,4)._handleIonChange(e.target.checked)&&t),"ngModelChange"===l&&(t=!1!==(u.Vevent[n.parent.parent.parent.parent.context.index][n.parent.parent.context.index][n.context.index]=e)&&t),t},p.wb,p.K)),o.nb(4,16384,null,0,i.c,[o.k],null,null),o.Bb(1024,null,h.b,function(n){return[n]},[i.c]),o.nb(6,671744,null,0,h.e,[[8,null],[8,null],[8,null],[6,h.b]],{model:[0,"model"]},{update:"ngModelChange"}),o.Bb(2048,null,h.c,null,[h.e]),o.nb(8,16384,null,0,h.d,[[4,h.c]],null,null),o.nb(9,49152,null,0,i.zb,[o.h,o.k],{color:[0,"color"]},null)],function(n,l){n(l,6,0,l.component.Vevent[l.parent.parent.parent.parent.context.index][l.parent.parent.context.index][l.context.index]),n(l,9,0,"danger")},function(n,l){n(l,2,0,l.context.$implicit.NameEvent),n(l,3,0,o.yb(l,8).ngClassUntouched,o.yb(l,8).ngClassTouched,o.yb(l,8).ngClassPristine,o.yb(l,8).ngClassDirty,o.yb(l,8).ngClassValid,o.yb(l,8).ngClassInvalid,o.yb(l,8).ngClassPending)})}function x(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.fb(16777216,null,null,1,null,w)),o.nb(2,278528,null,0,d.h,[o.N,o.K,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.Eventos[l.parent.parent.parent.context.index][l.parent.context.index])},null)}function D(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,14,"ion-item",[],null,null,null,p.ib,p.r)),o.nb(1,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.ob(2,0,null,0,12,"ion-item-group",[["style","width: 100%"]],null,null,null,p.eb,p.t)),o.nb(3,49152,null,0,i.I,[o.h,o.k],null,null),(n()(),o.ob(4,0,null,0,8,"ion-item-divider",[],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.ToggleC(n.parent.parent.context.index,n.context.index)&&o),o},p.db,p.s)),o.nb(5,49152,null,0,i.H,[o.h,o.k],null,null),(n()(),o.ob(6,0,null,0,2,"ion-label",[["text-uppercase",""]],null,null,null,p.jb,p.x)),o.nb(7,49152,null,0,i.M,[o.h,o.k],null,null),(n()(),o.Eb(8,0,["",""])),(n()(),o.fb(16777216,null,0,1,null,C)),o.nb(10,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.fb(16777216,null,0,1,null,y)),o.nb(12,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.fb(16777216,null,0,1,null,x)),o.nb(14,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,10,0,0==e.Tcomp[l.parent.parent.context.index][l.context.index]),n(l,12,0,1==e.Tcomp[l.parent.parent.context.index][l.context.index]),n(l,14,0,1==e.Tcomp[l.parent.parent.context.index][l.context.index])},function(n,l){n(l,8,0,l.context.$implicit.NameComponent)})}function I(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,2,"div",[],null,null,null,null,null)),(n()(),o.fb(16777216,null,null,1,null,D)),o.nb(2,278528,null,0,d.h,[o.N,o.K,o.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){n(l,2,0,l.component.Componentes[l.parent.context.index])},null)}function k(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,12,"ion-item-group",[["style","width: 100%"]],null,null,null,p.eb,p.t)),o.nb(1,49152,null,0,i.I,[o.h,o.k],null,null),(n()(),o.ob(2,0,null,0,8,"ion-item-divider",[],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.ToggleD(n.context.index)&&o),o},p.db,p.s)),o.nb(3,49152,null,0,i.H,[o.h,o.k],null,null),(n()(),o.ob(4,0,null,0,2,"ion-label",[["color","danger"],["text-uppercase",""]],null,null,null,p.jb,p.x)),o.nb(5,49152,null,0,i.M,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.Eb(6,0,["",""])),(n()(),o.fb(16777216,null,0,1,null,m)),o.nb(8,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.fb(16777216,null,0,1,null,f)),o.nb(10,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null),(n()(),o.fb(16777216,null,0,1,null,I)),o.nb(12,16384,null,0,d.i,[o.N,o.K],{ngIf:[0,"ngIf"]},null)],function(n,l){var e=l.component;n(l,5,0,"danger"),n(l,8,0,0==e.TDisp[l.context.index]),n(l,10,0,1==e.TDisp[l.context.index]),n(l,12,0,1==e.TDisp[l.context.index])},function(n,l){n(l,6,0,l.context.$implicit.NameDevices)})}function E(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,26,"ion-header",[],null,null,null,p.Z,p.n)),o.nb(1,49152,null,0,i.A,[o.h,o.k],null,null),(n()(),o.ob(2,0,null,0,12,"ion-toolbar",[],null,null,null,p.xb,p.L)),o.nb(3,49152,null,0,i.Ab,[o.h,o.k],null,null),(n()(),o.ob(4,0,null,0,3,"ion-button",[["color","white"],["fill","clear"],["slot","start"]],null,null,null,p.P,p.d)),o.nb(5,49152,null,0,i.j,[o.h,o.k],{color:[0,"color"],fill:[1,"fill"]},null),(n()(),o.ob(6,0,null,0,1,"ion-icon",[["name","arrow-round-back"],["slot","icon-only"]],null,null,null,p.ab,p.o)),o.nb(7,49152,null,0,i.B,[o.h,o.k],{name:[0,"name"]},null),(n()(),o.ob(8,0,null,0,2,"ion-title",[["style","text-align: center"],["text-uppercase",""]],null,null,null,p.vb,p.J)),o.nb(9,49152,null,0,i.yb,[o.h,o.k],null,null),(n()(),o.Eb(10,0,["",""])),(n()(),o.ob(11,0,null,0,3,"ion-button",[["color","white"],["fill","clear"],["slot","end"]],null,null,null,p.P,p.d)),o.nb(12,49152,null,0,i.j,[o.h,o.k],{color:[0,"color"],fill:[1,"fill"]},null),(n()(),o.ob(13,0,null,0,1,"ion-icon",[["name","arrow-round-back"],["slot","icon-only"]],null,null,null,p.ab,p.o)),o.nb(14,49152,null,0,i.B,[o.h,o.k],{name:[0,"name"]},null),(n()(),o.ob(15,0,null,0,11,"ion-item",[],null,null,null,p.ib,p.r)),o.nb(16,49152,null,0,i.G,[o.h,o.k],null,null),(n()(),o.ob(17,0,null,0,2,"ion-label",[],null,null,null,p.jb,p.x)),o.nb(18,49152,null,0,i.M,[o.h,o.k],null,null),(n()(),o.Eb(-1,0,["Seleccionar Todos"])),(n()(),o.ob(20,0,null,0,6,"ion-toggle",[["color","primary"],["slot","end"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionChange"],[null,"ionBlur"]],function(n,l,e){var t=!0,u=n.component;return"ionBlur"===l&&(t=!1!==o.yb(n,21)._handleBlurEvent()&&t),"ionChange"===l&&(t=!1!==o.yb(n,21)._handleIonChange(e.target.checked)&&t),"ngModelChange"===l&&(t=!1!==(u.SelectAll=e)&&t),"ionChange"===l&&(t=!1!==u.Seleccionar()&&t),t},p.wb,p.K)),o.nb(21,16384,null,0,i.c,[o.k],null,null),o.Bb(1024,null,h.b,function(n){return[n]},[i.c]),o.nb(23,671744,null,0,h.e,[[8,null],[8,null],[8,null],[6,h.b]],{model:[0,"model"]},{update:"ngModelChange"}),o.Bb(2048,null,h.c,null,[h.e]),o.nb(25,16384,null,0,h.d,[[4,h.c]],null,null),o.nb(26,49152,null,0,i.zb,[o.h,o.k],{color:[0,"color"]},null),(n()(),o.ob(27,0,null,null,5,"ion-content",[["class","Contenido"]],null,null,null,p.V,p.j)),o.nb(28,49152,null,0,i.t,[o.h,o.k],null,null),(n()(),o.ob(29,0,null,0,3,"ion-list",[],null,null,null,p.kb,p.y)),o.nb(30,49152,null,0,i.N,[o.h,o.k],null,null),(n()(),o.fb(16777216,null,0,1,null,k)),o.nb(32,278528,null,0,d.h,[o.N,o.K,o.s],{ngForOf:[0,"ngForOf"]},null),(n()(),o.ob(33,0,null,null,4,"ion-footer",[],null,null,null,p.Y,p.m)),o.nb(34,49152,null,0,i.y,[o.h,o.k],null,null),(n()(),o.ob(35,0,null,0,2,"ion-button",[["color","medium"],["expand","block"],["fill","outline"]],null,[[null,"click"]],function(n,l,e){var o=!0;return"click"===l&&(o=!1!==n.component.Asociar()&&o),o},p.P,p.d)),o.nb(36,49152,null,0,i.j,[o.h,o.k],{color:[0,"color"],expand:[1,"expand"],fill:[2,"fill"]},null),(n()(),o.Eb(-1,0,[" Asociar Eventos "]))],function(n,l){var e=l.component;n(l,5,0,"white","clear"),n(l,7,0,"arrow-round-back"),n(l,12,0,"white","clear"),n(l,14,0,"arrow-round-back"),n(l,23,0,e.SelectAll),n(l,26,0,"primary"),n(l,32,0,e.Dispositivo),n(l,36,0,"medium","block","outline")},function(n,l){n(l,10,0,l.component.Data[1]),n(l,20,0,o.yb(l,25).ngClassUntouched,o.yb(l,25).ngClassTouched,o.yb(l,25).ngClassPristine,o.yb(l,25).ngClassDirty,o.yb(l,25).ngClassValid,o.yb(l,25).ngClassInvalid,o.yb(l,25).ngClassPending)})}function _(n){return o.Gb(0,[(n()(),o.ob(0,0,null,null,1,"app-perfil-events",[],null,null,null,E,v)),o.nb(1,114688,null,0,a,[t.a,u.a,i.Gb,r.a,s.a,g.a],null,null)],function(n,l){n(l,1,0)},null)}var T=o.kb("app-perfil-events",a,_,{},{},[]);e.d(l,"PerfilEventsPageModuleNgFactory",function(){return A});var A=o.lb(c,[],function(n){return o.vb([o.wb(512,o.j,o.ab,[[8,[b.a,T]],[3,o.j],o.x]),o.wb(4608,d.k,d.j,[o.u,[2,d.q]]),o.wb(4608,h.g,h.g,[]),o.wb(4608,i.b,i.b,[o.z,o.g]),o.wb(4608,i.Fb,i.Fb,[i.b,o.j,o.q,d.c]),o.wb(4608,i.Ib,i.Ib,[i.b,o.j,o.q,d.c]),o.wb(1073742336,d.b,d.b,[]),o.wb(1073742336,h.f,h.f,[]),o.wb(1073742336,h.a,h.a,[]),o.wb(1073742336,i.Cb,i.Cb,[]),o.wb(1073742336,g.n,g.n,[[2,g.t],[2,g.m]]),o.wb(1073742336,c,c,[]),o.wb(1024,g.k,function(){return[[{path:"",component:a}]]},[])])})}}]);