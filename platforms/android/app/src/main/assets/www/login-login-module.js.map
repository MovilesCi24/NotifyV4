{"version":3,"sources":["webpack:///./src/app/login/login.module.ts","webpack:///./src/app/login/login.page.html","webpack:///./src/app/login/login.page.scss","webpack:///./src/app/login/login.page.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAyC;AACM;AACF;AACU;AAEV;AAEJ;AAEzC,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qDAAS;KACrB;CACF,CAAC;AAWF;IAAA;IAA8B,CAAC;IAAlB,eAAe;QAT3B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY;gBACZ,0DAAW;gBACX,0DAAW;gBACX,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC;aAC9B;YACD,YAAY,EAAE,CAAC,qDAAS,CAAC;SAC1B,CAAC;OACW,eAAe,CAAG;IAAD,sBAAC;CAAA;AAAH;;;;;;;;;;;;ACzB5B,sHAAsH,wBAAwB,ogBAAogB,oc;;;;;;;;;;;ACAlpB,+DAA+D,mI;;;;;;;;;;;;;;;;;;;;;;;;;ACAb;AACA;AACJ;AACL;AACM;AACK;AACJ;AACe;AACb;AAMlD;IAGE,mBACS,MAAoB,EACpB,IAAgB,EACf,OAAgB,EACjB,OAAqB,EACrB,OAAsB,EACtB,KAAkB,EAClB,YAAyB,EACzB,IAAkB;QAR3B,iBAqCC;QApCQ,WAAM,GAAN,MAAM,CAAc;QACpB,SAAI,GAAJ,IAAI,CAAY;QACf,YAAO,GAAP,OAAO,CAAS;QACjB,YAAO,GAAP,OAAO,CAAc;QACrB,YAAO,GAAP,OAAO,CAAe;QACtB,UAAK,GAAL,KAAK,CAAa;QAClB,iBAAY,GAAZ,YAAY,CAAa;QACzB,SAAI,GAAJ,IAAI,CAAc;QAEzB,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YAChC,IAAG,GAAG,IAAE,EAAE,IAAE,GAAG,IAAE,GAAG,IAAE,GAAG,IAAE,IAAI,EAAC;gBAC9B,KAAI,CAAC,MAAM,CAAC,IAAI,GAAC,EAAE,CAAC;gBACpB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,EAAE,CAAC,CAAC;aAC7B;iBAAI;gBACH,KAAI,CAAC,MAAM,CAAC,IAAI,GAAC,GAAG,CAAC;aACtB;YACD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,GAAG,CAAC;QACzB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACnC,IAAG,GAAG,IAAE,EAAE,IAAE,GAAG,IAAE,GAAG,IAAE,GAAG,IAAE,IAAI,EAAC;gBAC9B,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;aAC1B;iBAAI;gBACH,KAAI,CAAC,IAAI,GAAC,GAAG,CAAC;aACf;YACD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,GAAG,CAAC;QACzB,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YACtC,IAAG,GAAG,IAAE,EAAE,IAAE,GAAG,IAAE,GAAG,IAAE,GAAG,IAAE,IAAI,EAAC;gBAC9B,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;aAC1B;iBAAI;gBACH,KAAI,CAAC,IAAI,GAAC,GAAG,CAAC;aACf;YACD,OAAO,CAAC,GAAG,CAAC,MAAM,EAAC,GAAG,CAAC;QACzB,CAAC,CAAC,CAAC;IAEL,CAAC;IAED,4BAAQ,GAAR;QAAA,iBA0BC;QAzBC,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;YAChC,IAAG,GAAG,IAAE,EAAE,IAAE,GAAG,IAAE,GAAG,IAAE,GAAG,IAAE,IAAI,EAAC;gBAC9B,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;aAC1B;iBAAI;gBACH,KAAI,CAAC,MAAM,CAAC,QAAQ,GAAC,GAAG,CAAC;gBACzB,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,IAAI;oBACnC,IAAG,IAAI,IAAE,EAAE,IAAE,IAAI,IAAE,GAAG,IAAE,IAAI,IAAE,IAAI,EAAC;wBACjC,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;qBAC1B;yBAAI;wBACH,KAAI,CAAC,MAAM,CAAC,QAAQ,GAAC,IAAI,CAAC;wBAC1B,IAAG,KAAI,CAAC,MAAM,CAAC,QAAQ,IAAE,IAAI,EAAC;4BAC5B,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC;4BACvC,KAAI,CAAC,KAAK,EAAE,CAAC;yBACd;6BAAI;4BACH,OAAO,CAAC,GAAG,CAAC,cAAc,CAAC;4BAC3B,KAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;4BAC3B,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;yBAC1B;qBACF;oBACD,OAAO,CAAC,GAAG,CAAC,UAAU,EAAC,IAAI,CAAC;gBAC9B,CAAC,CAAC,CAAC;aACJ;QACL,CAAC,CAAC,CAAC;IAGH,CAAC;IAEM,yBAAK,GAAZ;QAAA,iBA4DD;QA3DG,IAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAE,EAAE,IAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAE,GAAG,IAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAE,IAAI,IAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAE,SAAS,EAAC;YAClH,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,kEAAkE,EAAC,CAAC,CAAC,CAAC;YACjG,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;SAC1B;aAAI;YACH,IAAG,IAAI,CAAC,IAAI,IAAE,EAAE,IAAI,IAAI,CAAC,IAAI,IAAE,EAAE,EAAC;gBAChC,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,cAAc,EAAC,EAAE,CAAC,CAAC;gBAC9C,IAAI,IAAI,GAAC;oBACL,YAAY,EAAE,CAAC;oBACf,QAAQ,EAAE,IAAI,CAAC,IAAI;oBACnB,QAAQ,EAAC,IAAI,CAAC,IAAI;iBACnB,CAAC;gBACF,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAC,UAAC,GAAG,EAAC,IAAI;oBAC5B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAE;oBACnB,IAAG,GAAG,IAAE,IAAI,EAAC;wBACX,IAAG,IAAI,CAAC,MAAM,IAAE,CAAC,EAAC;4BAChB,IAAG,IAAI,CAAC,OAAO,IAAE,KAAI,CAAC,MAAM,CAAC,eAAe,CAAC,OAAO,EAAC;gCACnD,KAAI,CAAC,MAAM,CAAC,IAAI,GAAC,KAAI,CAAC,IAAI,CAAC;gCAC3B,KAAI,CAAC,MAAM,CAAC,IAAI,GAAC,KAAI,CAAC,IAAI,CAAC;gCAC3B,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAC,KAAI,CAAC,IAAI,CAAC,CAAC;gCACtC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAC,KAAI,CAAC,IAAI,CAAC,CAAC;gCACzC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAC,IAAI,CAAC,CAAC;gCAChC,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,uBAAuB,EAAC,CAAC,CAAC,CAAC;gCACtD,KAAI,CAAC,MAAM,CAAC,QAAQ,GAAC,IAAI,CAAC;gCAC1B,KAAI,CAAC,MAAM,CAAC,QAAQ,GAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;gCAC9C,OAAO,CAAC,GAAG,CAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;gCAClC,KAAI,CAAC,IAAI,CAAC,WAAW,CAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,EAAC,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,OAAO,EAAC,KAAI,CAAC,MAAM,CAAC,SAAS,EAAC,CAAC,EAAC,UAAC,GAAG,EAAC,KAAK;oCAChJ,IAAG,GAAG,IAAE,IAAI,EAAC;wCACX,OAAO,CAAC,GAAG,CAAC,WAAW,CAAC;qCACzB;yCAAI;wCACH,OAAO,CAAC,GAAG,CAAC,aAAa,GAAC,GAAG,CAAC;qCAC/B;gCACH,CAAC,CAAC,CAAC;gCACH,KAAI,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC;6BACpC;iCAAI;gCACH,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,2BAA2B,EAAC,CAAC,CAAC;6BAC1D;yBACF;6BAAI;4BACH,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;4BACzB,IAAG,IAAI,CAAC,OAAO,IAAE,GAAG,EAAC;gCACnB,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,uBAAuB,EAAC,CAAC,CAAC;gCACrD,OAAO,CAAC,KAAK,CAAC,uBAAuB,CAAC,CAAC;6BACxC;iCAAK,IAAG,IAAI,CAAC,OAAO,IAAE,GAAG,EAAC;gCACzB,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,mBAAmB,EAAC,CAAC,CAAC;gCACjD,OAAO,CAAC,KAAK,CAAC,mBAAmB,CAAC,CAAC;6BACpC;iCAAI;gCACH,KAAI,CAAC,OAAO,CAAC,aAAa,CAAC,mBAAmB,EAAC,CAAC,CAAC;6BAClD;yBACF;qBACF;yBAAI;wBACH,KAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;wBACzB,KAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;wBAC3B,KAAI,CAAC,KAAK,CAAC,cAAc,CAAC,OAAO,EAAC,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;qBAChE;gBACH,CAAC,CAAC;aACJ;iBAAI;gBACJ,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,CAAC;gBACzB,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,mCAAmC,EAAC,CAAC,CAAC,CAAC;aACnE;SACF;IACL,CAAC;IAEQ,4BAAQ,GAAf;QACE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;IACzC,CAAC;IAtIU,SAAS;QALrB,+DAAS,CAAC;YACT,QAAQ,EAAE,WAAW;YACrB,yFAAgC;;SAEjC,CAAC;+EAKgB,6DAAa;YACf,yDAAW;YACN,sDAAO;YACT,4DAAa;YACb,+DAAc;YAChB,2DAAY;YACL,4EAAY;YACpB,6DAAa;OAXhB,SAAS,CAwIrB;IAAD,gBAAC;CAAA;AAxIqB","file":"login-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    RouterModule.forChild(routes)\r\n  ],\r\n  declarations: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n","module.exports = \"<ion-content class=\\\"Contenido\\\">\\r\\n<ion-img src=\\\"./assets/imgs/Controles.png\\\" style=\\\"width:90%;padding: 20% 10% 0% 10%;margin: auto\\\"></ion-img>\\r\\n<div style=\\\"padding:0px 5%\\\">\\r\\n  <ion-item class=\\\"itemm\\\" style=\\\"margin-top:20px\\\">\\r\\n    <ion-label position=\\\"fixed\\\">Usuario: </ion-label>\\r\\n    <ion-input type=\\\"text\\\" [(ngModel)]=\\\"User\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-item class=\\\"itemm\\\">\\r\\n    <ion-label position=\\\"fixed\\\">Contraseña: </ion-label>\\r\\n    <ion-input type=\\\"password\\\" [(ngModel)]=\\\"Pass\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <ion-button expand=\\\"block\\\" color=\\\"medium\\\" style=\\\"font-size:large;margin-top: 5px\\\" (click)=\\\"Login()\\\">\\r\\n    LOGIN\\r\\n  </ion-button>\\r\\n</div>\\r\\n<ion-fab vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\" (click)=\\\"Settings()\\\">\\r\\n  <ion-fab-button color=\\\"medium\\\">\\r\\n    <ion-icon name=\\\"settings\\\"></ion-icon>\\r\\n  </ion-fab-button>\\r\\n</ion-fab>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n<ion-button expand=\\\"block\\\" fill=\\\"outline\\\" color=\\\"medium\\\">\\r\\n  Version 1.0.0\\r\\n</ion-button>\\r\\n</ion-footer>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { GlobalService } from '../global.service';\r\nimport { PostService } from '../post.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { NavController } from '@ionic/angular';\r\nimport { LoadingService } from '../loading.service';\r\nimport { AlertService } from '../alert.service';\r\nimport { SplashScreen } from '@ionic-native/splash-screen/ngx';\r\nimport { NotifyService } from '../notify.service';\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\nUser:string;\r\nPass:string;\r\n  constructor(\r\n    public global:GlobalService,\r\n    public Post:PostService,\r\n    private storage: Storage,\r\n    public navCtrl:NavController,\r\n    public Loading:LoadingService,\r\n    public Alert:AlertService,\r\n    public splashScreen:SplashScreen,\r\n    public Noty:NotifyService\r\n  ) { \r\n    this.storage.get('ITEM').then((val) => {\r\n      if(val==''||val==' '||val==null){\r\n        this.global.Item=10;\r\n        this.storage.set('ITEM',10);\r\n      }else{\r\n        this.global.Item=val;\r\n      }\r\n      console.log('ITEM',val)\r\n    });\r\n    this.storage.get('Usuario').then((val) => {\r\n      if(val==''||val==' '||val==null){\r\n        this.splashScreen.hide();\r\n      }else{\r\n        this.User=val;\r\n      }\r\n      console.log('User',val)\r\n    });\r\n    \r\n    this.storage.get('Contraseña').then((val) => {\r\n      if(val==''||val==' '||val==null){\r\n        this.splashScreen.hide();\r\n      }else{\r\n        this.Pass=val;\r\n      }\r\n      console.log('Pass',val)\r\n    });\r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.storage.get('Ruta').then((val) => {\r\n      if(val==''||val==' '||val==null){\r\n        this.splashScreen.hide();\r\n      }else{\r\n        this.global.Servidor=val;\r\n        this.storage.get('Logged').then((val1) => {\r\n          if(val1==''||val1==' '||val1==null){\r\n            this.splashScreen.hide();\r\n          }else{\r\n            this.global.IsLoggin=val1;\r\n            if(this.global.IsLoggin==true){\r\n              console.log('Tengo que loggearme Solo')\r\n              this.Login();\r\n            }else{\r\n              console.log('No me loggeo')\r\n              this.Loading.HideLoading();\r\n              this.splashScreen.hide();\r\n            }\r\n          }\r\n          console.log('IsLoggin',val1)\r\n        });\r\n      }\r\n  });\r\n    \r\n\r\n  }\r\n\r\n  public Login(){\r\n    if(this.global.Servidor==''||this.global.Servidor==' '||this.global.Servidor==null||this.global.Servidor==undefined){\r\n      this.Loading.LoadingNormal(\"Dirigase al Boton de Ajustes para configurar la Url del servidor\",4);\r\n      this.splashScreen.hide();\r\n    }else{\r\n      if(this.Pass!=\"\" && this.User!=\"\"){\r\n        this.Loading.LoadingNormal(\"Autenticando\",10);\r\n        let data={\r\n            idConnection: 1,\r\n            userName: this.User,\r\n            password:this.Pass\r\n          };\r\n          this.Post.Login(data,(err,data)=>{\r\n            console.log(data) ;\r\n            if(err==null){\r\n              if(data.status==1){\r\n                if(data.message==this.global.RestDefinitions.Success){\r\n                  this.global.User=this.User;\r\n                  this.global.Pass=this.Pass;\r\n                  this.storage.set('Usuario',this.User);\r\n                  this.storage.set('Contraseña',this.Pass);\r\n                  this.storage.set('Logged',true);\r\n                  this.Loading.LoadingNormal(\"Autenticacion Exitosa\",2);\r\n                  this.global.IsLoggin=true;\r\n                  this.global.UserData=JSON.parse(data.data)[0];\r\n                  console.log(this.global.UserData);\r\n                  this.Noty.InsertClave(this.global.UserData.Id_User,this.global.UserData.Id_Company,this.global.UserData.Id_Role,this.global.UserToken,1,(err,data1)=>{\r\n                    if(err==null){\r\n                      console.log('Todo Bien')\r\n                    }else{\r\n                      console.log(\"ERR   =>   \"+err)\r\n                    }\r\n                  });\r\n                  this.navCtrl.navigateRoot('/home');\r\n                }else{\r\n                  this.Loading.LoadingNormal(\"Error en la Autenticacion\",2)\r\n                }\r\n              }else{\r\n                this.splashScreen.hide();\r\n                if(data.message==900){\r\n                  this.Loading.LoadingNormal(\"Contraseña Incorrecta\",2)\r\n                  console.error('Contraseña Incorrecta');\r\n                }else if(data.message==700){\r\n                  this.Loading.LoadingNormal(\"Usuario No Existe\",2)\r\n                  console.error('Usuario No Existe');\r\n                }else{\r\n                  this.Loading.LoadingNormal(\"Error de Conexion\",2)\r\n                }\r\n              }\r\n            }else{\r\n              this.splashScreen.hide();\r\n              this.Loading.HideLoading();\r\n              this.Alert.AlertOnebutton('Error',JSON.stringify(err.message));\r\n            }\r\n          })\r\n       }else{\r\n        this.splashScreen.hide();\r\n        this.Loading.LoadingNormal(\"Error se encuentran campos vacios\",2);\r\n      }\r\n    }\r\n}\r\n\r\n  public Settings(){\r\n    this.navCtrl.navigateRoot('/settings');\r\n  }\r\n\r\n}"],"sourceRoot":""}